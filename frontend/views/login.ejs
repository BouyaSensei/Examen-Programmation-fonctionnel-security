<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion</title>
    <!-- Bootstrap CSS -->
    <link nonce="<%= info.nonce %>" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Materialize CSS -->
    <link nonce="<%= info.nonce %>" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    <style nonce="<%= info.nonce %>">
        .row { display: flex; justify-content: center; align-items: center; height: 100vh; }
        
        .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 10px 20px;
        border: 1px solid #ccc;
        background-color: #f4f4f4;
        color: black;
        z-index: 1000;
      }

      .toast.error {
        border-color: red;
        background-color: pink;
      }
    </style>
</head>
<body>
    <%- include('./components/navbar') %> <!-- Inclusion de la Navbar -->

   
   
    
       <% if (info.toast?.type === 'success'){ %>
        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
              <div class="toast-header">
                
                <strong class="me-auto">Notification</strong>
                
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
              </div>
              <div class="toast-body">
                <%= info.toast.message %>
              </div>
            </div>
          </div>
          
        
        <% } %>

        <% if (info.toast?.type === 'error'){ %>
            <div class="toast-container position-fixed bottom-0 end-0 p-3 ">
            <div id="liveToast" class="toast bg-warning" role="alert" aria-live="assertive" aria-atomic="true">
              <div class="toast-header">
               
                <strong class="me-auto">Notification</strong>
                
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
              </div>
              <div class="toast-body">
                <%= info.toast.message %>
              </div>
            </div>
          </div>
          
        <% } %>
    <div class="container " >
        <div class="row">
            <div class="col-6 ">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">Connexion</span>
                        <form action="login" method="post">
                            <!-- Name field -->
                            <div class="form-group">
                                <label for="name">Nom</label>
                                <input name="name" type="text" id="name" class="form-control" placeholder="Entrez votre nom">
                            </div>

                            <!-- Email field
                            <div class="input-field col s12">
                                <input id="email" type="email" class="validate">
                                <label for="email">Email</label>
                                <span class="helper-text" data-error="wrong" data-success="right">Entrer un email valide</span>
                            </div>
                            -->
                            <!-- Password field -->
                            <div class="form-group">
                                <label for="password">Mot de passe</label>
                                <input name="password" type="password" id="password" class="form-control" placeholder="Entrez votre mot de passe">
                            </div>

                            <!-- Submit Button -->
                            <input type="hidden" name="_csrf" value=<%= info.csrfToken %>>
                            <button type="submit" class="btn waves-effect waves-light">Se connecter</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap and jQuery scripts -->
   <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" ></script> -->
    <script nonce="<%= info.nonce %>" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Materialize JS -->
    <script nonce="<%= info.nonce %>"  src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script nonce="<%= info.nonce %>">
        document.addEventListener('DOMContentLoaded', function() {
            var toastEl = document.getElementById('liveToast');
            var toast = new bootstrap.Toast(toastEl,{
                delay: 3000
            });
            toast.show();
        });
        </script>
        
</body>
</html>